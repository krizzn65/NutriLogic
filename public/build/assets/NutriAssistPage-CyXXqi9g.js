import{w as R,R as e,S as i,u as oe,r as o,p as me,b as Y,m as c,P as ce,A as S,N as q,a5 as de,a6 as G,y as U,K as L,L as ue,F as V,H as ge,J as be,Y as pe,a7 as xe,U as Z,a0 as W,a8 as he}from"./app-2DBIoE10.js";import{S as fe}from"./sparkles-DBMDQ8Wb.js";const ye=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ee=R("book-open",ye);const Ne=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Q=R("chef-hat",Ne);const ve=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],X=R("leaf",ve);function we(){return e.createElement("div",{className:"flex flex-1 w-full h-full overflow-hidden bg-gradient-to-br from-blue-50 via-indigo-50/50 to-purple-50"},e.createElement("div",{className:"w-full h-full overflow-y-auto custom-scrollbar"},e.createElement("div",{className:"max-w-7xl mx-auto p-4 md:p-8 lg:p-10"},e.createElement("div",{className:"mb-8"},e.createElement(i,{className:"h-10 w-64 mb-3"}),e.createElement(i,{className:"h-6 w-96",variant:"text"})),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8"},e.createElement("div",{className:"lg:col-span-5 space-y-6"},e.createElement("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl p-6 md:p-8 border border-white/50 shadow-xl"},e.createElement("div",{className:"flex items-center gap-3 mb-6"},e.createElement(i,{className:"w-12 h-12 rounded-xl"}),e.createElement("div",null,e.createElement(i,{className:"h-6 w-32 mb-2",variant:"text"}),e.createElement(i,{className:"h-4 w-48",variant:"text"}))),e.createElement("div",{className:"space-y-5"},e.createElement("div",{className:"space-y-2"},e.createElement(i,{className:"h-5 w-24",variant:"text"}),e.createElement(i,{className:"h-12 w-full rounded-xl"})),e.createElement("div",{className:"space-y-2"},e.createElement(i,{className:"h-5 w-32",variant:"text"}),e.createElement(i,{className:"h-32 w-full rounded-xl"})),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",{className:"space-y-2"},e.createElement(i,{className:"h-5 w-20",variant:"text"}),e.createElement(i,{className:"h-12 w-full rounded-xl"})),e.createElement("div",{className:"space-y-2"},e.createElement(i,{className:"h-5 w-20",variant:"text"}),e.createElement(i,{className:"h-12 w-full rounded-xl"}))),e.createElement(i,{className:"h-14 w-full rounded-xl mt-4"})))),e.createElement("div",{className:"lg:col-span-7"},e.createElement("div",{className:"h-full min-h-[400px] flex flex-col items-center justify-center p-8 bg-white/40 backdrop-blur-md rounded-3xl border border-white/40 border-dashed"},e.createElement(i,{className:"w-32 h-32 rounded-full mb-6"}),e.createElement(i,{className:"h-8 w-48 mb-3",variant:"text"}),e.createElement(i,{className:"h-5 w-64",variant:"text"})))))))}function De(){const ee=oe(),[te,C]=o.useState(!0),[b,P]=o.useState(!1),[T,m]=o.useState(null),[v,z]=o.useState([]),[d,D]=o.useState(""),[w,A]=o.useState(!1),[F,y]=o.useState(!1),[g,M]=o.useState(new Date),[_,ae]=o.useState(""),[p,I]=o.useState(""),[j,ne]=o.useState(""),[x,B]=o.useState(null),[ke,O]=o.useState(!1),[$,J]=o.useState(null),{getCachedData:le,setCachedData:H}=me();o.useEffect(()=>{re();try{const t=sessionStorage.getItem("nutriAssistRecommendations");if(t){const a=JSON.parse(t);B(a)}}catch(t){console.error("Error loading cached recommendations:",t)}},[]),o.useEffect(()=>{x?setTimeout(()=>O(!0),100):O(!1)},[x]);const re=async()=>{try{C(!0),m(null);const t=le("children");if(t){z(t),t.length>0&&D(t[0].id.toString()),C(!1);return}const n=(await Y.get("/parent/children")).data.data;z(n),H("children",n),n.length>0&&D(n[0].id.toString())}catch(t){const a=t.response?.data?.message||"Gagal memuat data anak. Silakan coba lagi.";m(a),console.error("Children fetch error:",t)}finally{C(!1)}},se=async t=>{if(t.preventDefault(),!d){m("Silakan pilih anak terlebih dahulu.");return}if(!_.trim()){m("Silakan masukkan bahan makanan yang tersedia.");return}const a=_.split(/[,\n]/).map(n=>n.trim()).filter(n=>n.length>0);if(a.length===0){m("Silakan masukkan minimal satu bahan makanan.");return}try{P(!0),m(null);const n={ingredients:a};p&&(n.date=p),j.trim()&&(n.notes=j.trim());let r=(await Y.post(`/parent/children/${d}/nutri-assist`,n)).data.data;Array.isArray(r)&&r.length>0&&(r=r[0].data),r?.recommendations&&(r.recommendations=r.recommendations.map((l,h)=>{let u=l.match_percentage||0;if(!u&&l.ingredients&&n.ingredients){const E=l.ingredients.map(f=>f.toLowerCase()),N=n.ingredients.map(f=>f.toLowerCase());u=E.filter(f=>N.some(K=>f.includes(K)||K.includes(f))).length/l.ingredients.length*100}return{...l,match_percentage:u,calories:l.nutrition?.calories||l.calories||0,protein:l.nutrition?.protein||l.protein||0,carbs:l.nutrition?.carbs||l.carbs||0,fat:l.nutrition?.fat||l.fat||0}})),B(r);try{sessionStorage.setItem("nutriAssistRecommendations",JSON.stringify(r))}catch(l){console.error("Error saving recommendations to sessionStorage:",l)}H("nutriAssistRecommendations",r),J(null),setTimeout(()=>{document.getElementById("recommendations-section")?.scrollIntoView({behavior:"smooth",block:"start"})},200)}catch(n){if(console.error("Nutri-assist error details:",{status:n.response?.status,data:n.response?.data,message:n.message}),n.response?.status===403)m("Anda tidak memiliki akses untuk mendapatkan rekomendasi untuk anak ini.");else if(n.response?.status===404)m("Data anak tidak ditemukan.");else{const s=n.response?.data?.message||"Gagal mendapatkan rekomendasi. Silakan coba lagi.";m(s)}}finally{P(!1)}},ie=(t,a)=>{if(!d){m("Silakan pilih anak terlebih dahulu.");return}const n=t.menu?.name||t.name||"Menu dari Nutri-Assist",s=t.menu?.description||t.description||"",r=t.ingredients?Array.isArray(t.ingredients)?t.ingredients.join(", "):t.ingredients:"",l=t.notes||"",h=t.meal_type||"siang",u={childId:parseInt(d),time_of_day:h,description:`${n}${s?` - ${s}`:""}`,ingredients:r,notes:`Rekomendasi dari Nutri-Assist. ${l}`.trim(),source:"nutri-assist"};ee("/dashboard/jurnal-makan",{state:{prefilledMeal:u}})};return te?e.createElement(we,null):e.createElement("div",{className:"flex flex-col flex-1 w-full h-full overflow-hidden bg-gradient-to-br from-blue-50 via-indigo-50/50 to-purple-50"},e.createElement(c.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"relative z-50"},e.createElement(ce,{title:"Nutri-Assist",subtitle:"SMART MEAL PLANNER"})),e.createElement("div",{className:"flex-1 w-full overflow-y-auto custom-scrollbar no-scrollbar md:scrollbar-auto"},e.createElement("div",{className:"w-full p-4 md:p-8 lg:p-10"},e.createElement("div",{className:"mb-8"},e.createElement("p",{className:"text-gray-500 mt-2 max-w-2xl text-lg"},"Asisten pintar yang membantu Anda meracik menu bergizi dari bahan yang tersedia di rumah.")),e.createElement(S,null,T&&e.createElement(c.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6 overflow-hidden"},e.createElement("div",{className:"bg-red-50/80 backdrop-blur-sm border border-red-200 rounded-2xl p-4 flex items-center justify-between shadow-sm"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 bg-red-100 rounded-full"},e.createElement(q,{className:"w-5 h-5 text-red-600"})),e.createElement("p",{className:"text-red-800 font-medium"},T)),e.createElement("button",{onClick:()=>m(null),className:"p-2 hover:bg-red-100 rounded-full transition-colors text-red-500"},e.createElement(de,{className:"w-5 h-5 rotate-45"}))))),v.length===0?e.createElement(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center py-20 bg-white/60 backdrop-blur-xl rounded-3xl border border-white/40 shadow-xl text-center"},e.createElement("div",{className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6"},e.createElement(G,{className:"w-12 h-12 text-blue-600"})),e.createElement("h3",{className:"text-2xl font-bold text-gray-800 mb-2"},"Belum Ada Data Anak"),e.createElement("p",{className:"text-gray-500 max-w-md mb-8"},"Silakan daftarkan anak Anda terlebih dahulu untuk mulai menggunakan fitur Nutri-Assist dan dapatkan rekomendasi menu terbaik."),e.createElement("button",{className:"px-8 py-3 bg-blue-600 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all hover:scale-105 active:scale-95"},"Daftarkan Anak")):e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8"},e.createElement(c.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:col-span-5 space-y-6 relative z-20"},e.createElement("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl p-6 md:p-8 border border-white/50 shadow-xl relative"},e.createElement("div",{className:"absolute inset-0 overflow-hidden rounded-3xl pointer-events-none"},e.createElement("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-blue-400/10 rounded-full blur-3xl"})),e.createElement("div",{className:"flex items-center gap-3 mb-6 relative z-10"},e.createElement("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg shadow-blue-500/20 text-white"},e.createElement(Q,{className:"w-6 h-6"})),e.createElement("div",null,e.createElement("h2",{className:"text-xl font-bold text-gray-800"},"Racik Menu"),e.createElement("p",{className:"text-sm text-gray-500"},"Isi detail untuk rekomendasi"))),e.createElement("form",{onSubmit:se,className:"space-y-5 relative z-10"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{htmlFor:"child",className:"text-sm font-semibold text-gray-700 flex items-center gap-2"},e.createElement(G,{className:"w-4 h-4 text-blue-500"}),"Pilih Anak"),e.createElement("div",{className:"relative"},e.createElement("button",{type:"button",onClick:()=>A(!w),className:"w-full pl-4 pr-10 py-3 bg-white border border-gray-200 rounded-xl text-left text-gray-900 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all cursor-pointer hover:bg-gray-50 flex items-center justify-between",disabled:b},e.createElement("span",{className:d?"font-medium":"text-gray-500"},d?(()=>{const t=v.find(a=>a.id.toString()===d);return t?`${t.full_name} (${U(t.age_in_months)})`:"-- Pilih Anak --"})():"-- Pilih Anak --"),e.createElement(L,{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${w?"rotate-180":""}`})),e.createElement(S,null,w&&e.createElement(c.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute z-50 w-full mt-2 bg-white/90 backdrop-blur-xl border border-gray-200 rounded-xl shadow-xl overflow-hidden max-h-60 overflow-y-auto custom-scrollbar"},v.length===0?e.createElement("div",{className:"px-4 py-3 text-gray-500 text-center text-sm"},"Tidak ada data anak"):v.map(t=>e.createElement("div",{key:t.id,onClick:()=>{D(t.id.toString()),A(!1)},className:"px-4 py-3 hover:bg-blue-50 cursor-pointer transition-colors flex items-center justify-between group border-b border-gray-50 last:border-0"},e.createElement("span",{className:`text-sm ${d===t.id.toString()?"text-blue-700 font-semibold":"text-gray-700 font-medium group-hover:text-blue-700"}`},t.full_name," ",e.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(",U(t.age_in_months),")")),d===t.id.toString()&&e.createElement(ue,{className:"w-4 h-4 text-blue-600"}))))),w&&e.createElement("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:()=>A(!1)}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{htmlFor:"ingredients",className:"text-sm font-semibold text-gray-700 flex items-center gap-2"},e.createElement(X,{className:"w-4 h-4 text-green-500"}),"Bahan Tersedia"),e.createElement("div",{className:"relative"},e.createElement("textarea",{id:"ingredients",value:_,onChange:t=>ae(t.target.value),placeholder:"Contoh: beras, ayam, wortel, bayam...",rows:4,className:"w-full p-4 bg-white border border-gray-200 rounded-xl text-gray-900 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all resize-none placeholder:text-gray-400",required:!0,disabled:b}),e.createElement("div",{className:"absolute bottom-3 right-3"},e.createElement("div",{className:"text-[10px] font-medium text-gray-400 bg-gray-100 px-2 py-1 rounded-md"},"Pisahkan dengan koma")))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"space-y-2 relative"},e.createElement("label",{htmlFor:"date",className:"text-sm font-semibold text-gray-700 flex items-center gap-2"},e.createElement(V,{className:"w-4 h-4 text-purple-500"}),"Tanggal"),e.createElement("button",{type:"button",onClick:()=>y(!F),className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-left text-gray-900 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all flex items-center justify-between hover:bg-gray-50",disabled:b},e.createElement("span",{className:p?"":"text-gray-400"},p?new Date(p).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"dd/mm/yyyy"),e.createElement(V,{className:"w-4 h-4 text-gray-400"})),e.createElement(S,null,F&&e.createElement(e.Fragment,null,e.createElement("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:()=>y(!1)}),e.createElement(c.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute z-50 bottom-full mb-2 p-4 bg-white/90 backdrop-blur-xl border border-gray-200 rounded-2xl shadow-xl w-full max-w-[320px]"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("button",{type:"button",onClick:()=>M(t=>{const a=new Date(t);return a.setMonth(a.getMonth()-1),a}),className:"p-1 hover:bg-gray-100 rounded-full transition-colors"},e.createElement(ge,{className:"w-5 h-5 text-gray-600"})),e.createElement("span",{className:"font-semibold text-gray-800"},g.toLocaleDateString("id-ID",{month:"long",year:"numeric"})),e.createElement("button",{type:"button",onClick:()=>M(t=>{const a=new Date(t);return a.setMonth(a.getMonth()+1),a}),className:"p-1 hover:bg-gray-100 rounded-full transition-colors"},e.createElement(be,{className:"w-5 h-5 text-gray-600"}))),e.createElement("div",{className:"grid grid-cols-7 mb-2"},["Mg","Sn","Sl","Rb","Km","Jm","Sb"].map(t=>e.createElement("div",{key:t,className:"text-xs font-medium text-gray-400 text-center py-1"},t))),e.createElement("div",{className:"grid grid-cols-7 gap-1"},(()=>{const t=new Date(g.getFullYear(),g.getMonth()+1,0).getDate(),a=new Date(g.getFullYear(),g.getMonth(),1).getDay(),n=[];for(let s=0;s<a;s++)n.push(e.createElement("div",{key:`empty-${s}`,className:"w-8 h-8"}));for(let s=1;s<=t;s++){const r=`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(s).padStart(2,"0")}`,l=p===r,h=new Date().toISOString().split("T")[0]===r;n.push(e.createElement("button",{key:s,type:"button",onClick:()=>{I(r),y(!1)},className:`w-8 h-8 text-sm rounded-full flex items-center justify-center transition-all
                                            ${l?"bg-blue-600 text-white shadow-md shadow-blue-500/30":h?"text-blue-600 font-bold bg-blue-50":"text-gray-700 hover:bg-gray-100"}`},s))}return n})()),e.createElement("div",{className:"mt-4 pt-3 border-t border-gray-100 flex justify-between"},e.createElement("button",{type:"button",onClick:()=>{I(""),y(!1)},className:"text-xs text-red-500 hover:text-red-700 font-medium px-2 py-1 rounded hover:bg-red-50 transition-colors"},"Clear"),e.createElement("button",{type:"button",onClick:()=>{const t=new Date,a=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;I(a),M(t),y(!1)},className:"text-xs text-blue-600 hover:text-blue-800 font-medium px-2 py-1 rounded hover:bg-blue-50 transition-colors"},"Today")))))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{htmlFor:"notes",className:"text-sm font-semibold text-gray-700 flex items-center gap-2"},e.createElement(pe,{className:"w-4 h-4 text-orange-500"}),"Catatan"),e.createElement("input",{type:"text",id:"notes",value:j,onChange:t=>ne(t.target.value),placeholder:"Alergi, dll...",className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-gray-900 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",disabled:b}))),e.createElement("button",{type:"submit",disabled:b,className:"w-full mt-4 group relative overflow-hidden px-6 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-blue-500/40 transition-all hover:scale-[1.02] active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none"},e.createElement("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),e.createElement("div",{className:"relative flex items-center justify-center gap-2"},b?e.createElement(e.Fragment,null,e.createElement(xe,{className:"w-5 h-5 animate-spin"}),e.createElement("span",null,"Meracik Menu...")):e.createElement(e.Fragment,null,e.createElement(fe,{className:"w-5 h-5"}),e.createElement("span",null,"Buat Rekomendasi"))))))),e.createElement(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-7 relative z-10"},x?e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2"},e.createElement("span",{className:"bg-green-100 text-green-700 p-2 rounded-lg"},e.createElement(W,{className:"w-5 h-5"})),"Hasil Rekomendasi"),e.createElement("span",{className:"text-sm text-gray-500 bg-white/50 px-3 py-1 rounded-full border border-gray-200"},"Untuk: ",x.child.full_name)),x.recommendations.length===0?e.createElement(c.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/70 backdrop-blur-xl rounded-3xl p-10 text-center border border-white/50 shadow-lg"},e.createElement(he,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.createElement("h4",{className:"text-lg font-semibold text-gray-800 mb-2"},"Tidak Ada Menu yang Cocok"),e.createElement("p",{className:"text-gray-500"},"Maaf, kami tidak menemukan menu yang cocok dengan kombinasi bahan tersebut. Coba tambahkan bahan umum lainnya.")):e.createElement("div",{className:"space-y-4"},x.recommendations.map((t,a)=>{const n=a===0&&t.match_percentage>=50,s=t.menu?.name||t.name||"Menu Tidak Diketahui",r=t.menu?.calories||t.calories||0,l=t.menu?.protein||t.protein||0,h=t.menu?.description||t.description||"Tidak ada deskripsi",u=t.match_percentage||0,E=t.matched_ingredients||[];return e.createElement(c.div,{key:a,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},className:`group relative overflow-hidden rounded-2xl border transition-all duration-300 hover:shadow-xl ${n?"bg-gradient-to-br from-white to-blue-50/50 border-blue-200 shadow-lg shadow-blue-100":"bg-white/80 border-white/60 hover:border-blue-200 shadow-sm"}`},n&&e.createElement("div",{className:"absolute top-0 right-0 bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-bl-xl shadow-sm z-10"},"BEST MATCH"),e.createElement("div",{className:"p-6"},e.createElement("div",{className:"flex justify-between items-start mb-4"},e.createElement("div",null,e.createElement("h4",{className:"text-lg font-bold text-gray-800 group-hover:text-blue-600 transition-colors"},s),e.createElement("div",{className:"flex items-center gap-3 mt-2 text-sm text-gray-500"},e.createElement("span",{className:"flex items-center gap-1 bg-orange-50 text-orange-700 px-2 py-0.5 rounded-md border border-orange-100"},e.createElement("span",{className:"font-bold"},r)," kcal"),e.createElement("span",{className:"flex items-center gap-1 bg-blue-50 text-blue-700 px-2 py-0.5 rounded-md border border-blue-100"},e.createElement("span",{className:"font-bold"},l,"g")," Protein"))),e.createElement("div",{className:"flex flex-col items-end"},e.createElement("div",{className:`text-lg font-bold ${u>=70?"text-green-600":u>=50?"text-yellow-600":"text-gray-400"}`},u.toFixed(0),"%"),e.createElement("div",{className:"text-xs text-gray-400"},"Kecocokan"))),e.createElement("p",{className:"text-gray-600 text-sm mb-4 leading-relaxed"},h),E&&E.length>0&&e.createElement("div",{className:"pt-4 border-t border-gray-100"},e.createElement("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2"},"Bahan Terpakai"),e.createElement("div",{className:"flex flex-wrap gap-2"},E.map((N,k)=>e.createElement("span",{key:k,className:"px-2.5 py-1 bg-green-100/50 text-green-700 text-xs font-medium rounded-lg border border-green-100 flex items-center gap-1"},e.createElement(W,{className:"w-3 h-3"}),N)))),e.createElement("button",{onClick:()=>J($===a?null:a),className:"w-full mt-4 py-2 px-4 bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 text-blue-700 rounded-lg font-medium text-sm flex items-center justify-center gap-2 transition-all duration-200"},$===a?e.createElement(e.Fragment,null,e.createElement(L,{className:"w-4 h-4 rotate-180 transition-transform"}),"Sembunyikan Detail"):e.createElement(e.Fragment,null,e.createElement(L,{className:"w-4 h-4 transition-transform"}),"Lihat Resep Lengkap")),e.createElement(S,null,$===a&&e.createElement(c.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden"},e.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-4"},t.ingredients&&t.ingredients.length>0&&e.createElement("div",null,e.createElement("h5",{className:"text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"},e.createElement(X,{className:"w-4 h-4 text-green-600"}),"Bahan-Bahan Lengkap"),e.createElement("ul",{className:"space-y-1"},t.ingredients.map((N,k)=>e.createElement("li",{key:k,className:"text-sm text-gray-600 flex items-start gap-2"},e.createElement("span",{className:"text-blue-500 mt-1"},"â€¢"),e.createElement("span",null,N))))),t.instructions&&e.createElement("div",null,e.createElement("h5",{className:"text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"},e.createElement(Q,{className:"w-4 h-4 text-orange-600"}),"Cara Membuat"),e.createElement("div",{className:"text-sm text-gray-600 whitespace-pre-line leading-relaxed bg-gray-50 p-3 rounded-lg"},t.instructions)),(t.carbs||t.fat)&&e.createElement("div",null,e.createElement("h5",{className:"text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"},e.createElement(Z,{className:"w-4 h-4 text-purple-600"}),"Informasi Gizi Lengkap"),e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2"},e.createElement("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-100"},e.createElement("div",{className:"text-xs text-orange-600 font-medium"},"Kalori"),e.createElement("div",{className:"text-lg font-bold text-orange-700"},r),e.createElement("div",{className:"text-xs text-orange-500"},"kcal")),e.createElement("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100"},e.createElement("div",{className:"text-xs text-blue-600 font-medium"},"Protein"),e.createElement("div",{className:"text-lg font-bold text-blue-700"},l),e.createElement("div",{className:"text-xs text-blue-500"},"gram")),t.carbs>0&&e.createElement("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-100"},e.createElement("div",{className:"text-xs text-yellow-600 font-medium"},"Karbohidrat"),e.createElement("div",{className:"text-lg font-bold text-yellow-700"},t.carbs),e.createElement("div",{className:"text-xs text-yellow-500"},"gram")),t.fat>0&&e.createElement("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100"},e.createElement("div",{className:"text-xs text-green-600 font-medium"},"Lemak"),e.createElement("div",{className:"text-lg font-bold text-green-700"},t.fat),e.createElement("div",{className:"text-xs text-green-500"},"gram")))),e.createElement("div",{className:"grid grid-cols-2 gap-3"},t.portion&&e.createElement("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-100"},e.createElement("div",{className:"text-xs text-purple-600 font-medium mb-1"},"Porsi"),e.createElement("div",{className:"text-sm font-bold text-purple-700"},t.portion)),t.meal_type&&e.createElement("div",{className:"bg-pink-50 p-3 rounded-lg border border-pink-100"},e.createElement("div",{className:"text-xs text-pink-600 font-medium mb-1"},"Waktu Makan"),e.createElement("div",{className:"text-sm font-bold text-pink-700 capitalize"},t.meal_type.replace(/_/g," ")))),t.notes&&e.createElement("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100"},e.createElement("h5",{className:"text-sm font-bold text-blue-800 mb-2 flex items-center gap-2"},e.createElement(q,{className:"w-4 h-4"}),"Catatan Penting"),e.createElement("p",{className:"text-sm text-blue-700 leading-relaxed"},t.notes)),e.createElement("button",{onClick:()=>ie(t),className:"w-full mt-4 py-3 px-4 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white rounded-xl font-semibold shadow-lg shadow-green-500/20 hover:shadow-green-500/30 transition-all hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2"},e.createElement(Ee,{className:"w-5 h-5"}),e.createElement("span",null,"Tambah ke Jurnal Makan")))))))}))):e.createElement("div",{className:"h-full min-h-[400px] flex flex-col items-center justify-center text-center p-8 bg-white/40 backdrop-blur-md rounded-3xl border border-white/40 border-dashed"},e.createElement("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full flex items-center justify-center mb-6 animate-pulse"},e.createElement(Z,{className:"w-12 h-12 text-blue-400/50"})),e.createElement("h3",{className:"text-xl font-semibold text-gray-600 mb-2"},"Siap Meracik Menu?"),e.createElement("p",{className:"text-gray-500 max-w-sm"},"Masukkan bahan-bahan yang Anda miliki di panel sebelah kiri, dan kami akan menyarankan menu terbaik untuk si kecil.")))))))}export{De as default};
